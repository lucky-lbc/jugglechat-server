import{L as d,M as _,f as l,r as U,z as b,o as i,B as $,w as x,b as r,q as E,C as R,u as S,c,e as T,t as h,F as f,Y as N,d as g,_ as C,K as k,i as G}from"./index-0f2e41f6.js";function L(t={}){let{app_key:s}=t,a=`${d.R3D_TRANSLTE_GET}?app_key=${s}`;return _(a,{method:"GET"})}function O(t){return _(d.R3D_TRANSLTE_SET,{method:"POST",body:l.toJSON(t)})}function V(t={}){let{app_key:s}=t,a=`${d.R3D_RTC_GET}?app_key=${s}`;return _(a,{method:"GET"})}function A(t){return _(d.R3D_RTC_SET,{method:"POST",body:l.toJSON(t)})}function B(t={}){let{app_key:s}=t,a=`${d.R3D_EMAIL_GET}?app_key=${s}`;return _(a,{method:"GET"})}function M(t){return _(d.R3D_EMAIL_SET,{method:"POST",body:l.toJSON(t)})}function P(t={}){let{app_key:s}=t,a=`${d.R3D_SMS_GET}?app_key=${s}`;return _(a,{method:"GET"})}function I(t){return _(d.R3D_SMS_SET,{method:"POST",body:l.toJSON(t)})}const W={getTranslate:L,setTranslate:O,getRTC:V,setRTC:A,getEmail:B,setEmail:M,getSms:P,setSms:I},J={class:"row g-2 cim-row"},q={class:"form-floating"},F=["value"],H={key:0,class:"form-floating cim-from-must cicon cicon-must"},Y=["type","onUpdate:modelValue"],z={key:1,class:"form-floating"},K=["onUpdate:modelValue"],j=["value"],X={__name:"dialog-3rd",props:["show","title","channel","list","custom"],emits:["save","hide"],setup(t,{emit:s}){const a=G(),o=t,v=s;let p=U({channelUid:l.clone(o.channel.uid),channels:l.clone(o.list),fields:[]});function D(){let{fields:u,channelUid:m}=p;for(let e=0;e<u.length;e++){let n=u[e];if(l.isEmpty(n.value))return a.proxy.$toast({icon:"error",text:`${n.name} 不可为空`});n.type=="text"&&(n.value=n.value.toString())}v("save",{uid:m,fields:l.clone(u)})}function w(u){v("hide",{})}function y(u){let m=l.map(u.children,e=>(l.isEqual(e.key,"is_used")&&(e.value=o.channel.isUsed?k.ENABLE:k.DISABLE),e));l.extend(p,{fields:l.clone(m),channelUid:u.uid})}return y(o.channel),b(()=>o.show,()=>{o.show&&y(o.channel)}),(u,m)=>(i(),$(C,{title:o.title,show:o.show,cls:"cim-r3d-dialog",onHide:w,onSave:D},{default:x(()=>[r("div",J,[r("div",null,[r("div",q,[E(r("select",{class:"form-select","onUpdate:modelValue":m[0]||(m[0]=e=>S(p).channelUid=e),disabled:!0},[(i(!0),c(f,null,T(o.list,e=>(i(),c("option",{value:e.uid},h(e.name),9,F))),256))],512),[[R,S(p).channelUid]]),r("label",null,h(o.custom),1)])]),(i(!0),c(f,null,T(S(p).fields,e=>(i(),c("div",null,[e.type=="text"||e.type=="number"?(i(),c("div",H,[E(r("input",{class:"form-control",placeholder:"placeholder",type:e.type,"onUpdate:modelValue":n=>e.value=n},null,8,Y),[[N,e.value]]),r("label",null,h(e.name),1)])):g("",!0),e.type=="select"?(i(),c("div",z,[E(r("select",{class:"form-select","onUpdate:modelValue":n=>e.value=n},[(i(!0),c(f,null,T(e.children,n=>(i(),c("option",{value:n.value},h(n.label),9,j))),256))],8,K),[[R,e.value]]),r("label",null,h(e.name),1)])):g("",!0)]))),256))])]),_:1},8,["title","show"]))}};export{W as R,X as _};
